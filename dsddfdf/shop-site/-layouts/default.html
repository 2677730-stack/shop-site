<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: "Магазин" }}</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<!-- Шапка -->
{% include header.html %}

<!-- Поиск -->
<div class="search">
    <input type="text" placeholder="Поиск по товарам..." oninput="searchProducts(this.value)">
</div>

<!-- Фильтры -->
<div class="filters">
    <button class="filter-btn active" onclick="filterProducts('all', this)">Все</button>
    <button class="filter-btn" onclick="filterProducts('podes', this)">Под-системы</button>
    <button class="filter-btn" onclick="filterProducts('hq', this)">Одноразки</button>
    <button class="filter-btn" onclick="filterProducts('liquids', this)">Жидкости</button>
    <button class="filter-btn" onclick="filterProducts('parts', this)">Испарители</button>
</div>

<!-- Каталог товаров -->
<main class="catalog">
{% for product in site.data.products %}
    <div class="card" data-category="{{ product.category }}">
        <div class="img-wrapper">
            <img src="{{ product.image }}" alt="{{ product.name }}">
        </div>
        <h2>{{ product.name }}</h2>
        <p>{{ product.description }}</p>
        <span class="price">{{ product.price }} ₽</span>
        <button class="buy" onclick="addToCart('{{ product.name }}', '{{ product.price | default:0 }}')">Купить</button>
    </div>
{% endfor %}
</main>

<!-- Корзина -->
{% include cart.html %}

<!-- Футер -->
{% include footer.html %}

<script src="/js/script.js"></script>
</body>
</html>
